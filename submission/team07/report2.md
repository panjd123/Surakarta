# 第二阶段报告

## 判断类的关系

### 在本次实现中，涉及到了几个类的关系：

- ```MainWindow类```（游戏窗口类）：负责显示游戏界面，处理用户交互事件，调用游戏逻辑相关的方法。

- ```SurakartaGame类```（游戏逻辑类）：实现了游戏的逻辑，包括棋盘状态管理、棋子移动、游戏结束判断等功能。

- ```SurakartaBoard类```（棋盘类）：表示游戏的棋盘，包含了棋盘大小、棋盘格子大小等信息。

- ```SurakartaPiece类```（棋子类）：表示游戏中的棋子，包含了棋子的颜色、半径等信息。

  ***这些类之间的关系是***：

  - ```MainWindow```类包含了```SurakartaGame```类的实例作为成员变量，用于调用游戏逻辑的方法来控制游戏的进行。
  - ```SurakartaGame```类包含了```SurakartaBoard```类和```SurakartaPiece```类的实例作为成员变量，用于管理棋盘状态和棋子信息。

## 小组分工
### 本次项目的小组分工如下：
- 王艺杭：代码框架，棋盘、棋子绘制、挪子逻辑、吃子逻辑、显示信息、结束逻辑，撰写报告
- 钟进艺：实现认输、倒计时、结束界面、再来一局等功能

## 代码框架设计

### 本次项目的代码框架设计如下：

- ```MainWindow```类：负责游戏窗口的显示和用户交互事件的处理，包括倒计时显示、棋盘绘制、鼠标点击事件等。
- ```SurakartaGame```类：负责游戏的逻辑实现，包括棋盘状态管理、棋子移动、游戏结束判断等功能的实现。
- ```SurakartaBoard```类：表示游戏的棋盘，包含了棋盘大小、格子大小等信息。
- ```SurakartaPiece```类：表示游戏中的棋子，包含了棋子的颜色、半径等信息。

## 遇到的问题及解决方法

### 在项目实现过程中，遇到了一些问题，并通过以下方法解决：

- ***问题1***：游戏结束时弹窗先弹出再来一局。
  解决方法：在游戏结束时弹窗时，先显示游戏结束的消息框，等用户点击确定后再询问是否再来一局，避免弹窗顺序混乱。
- ***问题2***：如何正确绘制棋盘和棋子。
  解决方法：通过Qt的绘图功能，在``MainWindow``类的```paintEvent```函数中实现棋盘和棋子的绘制，根据游戏逻辑和数据进行绘制，确保棋盘和棋子的位置正确显示。
- ***问题3***：倒计时显示的问题。
  解决方法：使用Qt的定时器 ```QTimer``` 来实现倒计时功能，每隔一秒更新一次倒计时时间，并在界面上显示。
- ***问题4***：游戏逻辑的实现。
  解决方法：在```SurakartaGame```类中，设计了合适的数据结构和方法来管理棋盘状态和棋子移动，确保游戏逻辑的正确性和可扩展性。

## 其他说明

本次项目是基于Qt实现的苏拉卡塔游戏，主要目的是练习Qt框架下的界面设计和事件处理，并结合游戏逻辑的实现，完成一个简单的游戏。通过本次项目，我们加深了对Qt的理解和应用，同时也锻炼了团队合作和问题解决能力。
